<section class="section">
  <div class="container">
    <table class="table is-fullwidth is-striped">
      <tr>
        <th>Produktname</th>
        <th>Produkt</th>
        <th>Größe</th>
        <th>Menge</th>
        <th>Preis</th>
        <th>Aktionen</th>
      </tr>
      <tr *ngFor="let item of shoppingCartService.cartItems">
        <td><a routerLink="/product/{{item.product.id}}">{{item.product.name}}</a></td>
        <td>
          <figure class="image is-128x128">
            <img src="{{item.product.image}}">
          </figure>
        </td>
        <td>
          {{item.priceAndSize.size}}
        </td>
        <td>{{item.amount}}</td>
        <td>EUR {{getPrice(item)}}</td>
        <td><a class="button is-danger" (click)="decreaseProductAmount(item)">-</a><a class="button is-success" (click)="increaseProductAmount(item)">+</a></td>
      </tr>
      <tfoot>
        <tr>
          <td>
            <p>Warenkorb: EUR {{getTotal()}}</p>
            <p *ngIf="sendingCosts">Versandkosten: EUR {{convertToString(sendingCosts)}}</p>
            <p *ngIf="additionalCosts">Nachnahme: EUR {{convertToString(additionalCosts)}}</p>
            <p *ngIf="sendingCosts"><b>Gesamtbetrag: EUR {{getTotal(true)}}</b></p>
          </td>
          <td></td>
        </tr>
      </tfoot>
    </table>
    <p [hidden]="isInPayment() || shoppingCartService.isEmpty()" *ngIf="(authService.user | async); else notLoggedIn"
      class="control">
      <a routerLink="/payment" class="button is-dark">
        Zur Kasse
      </a>
    </p>
  </div>
</section>